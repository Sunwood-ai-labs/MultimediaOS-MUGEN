# fal-ai-add チェックリスト

新しいfal.aiモデルを追加する際のチェックリスト。

## 開始前チェック

### プロジェクト状態

- [ ] Gitリポジトリの状態を確認（未コミットの変更がないか）
- [ ] ブランチが正しいことを確認
- [ ] FAL_KEY環境変数が設定されていることを確認

### 情報収集

- [ ] モデルIDを確認
- [ ] モデルタイプを特定（T2I / I2I / I2V / Other）
- [ ] モデル名を決定
- [ ] 機能説明を準備
- [ ] 入力パラメータを確認

---

## スクリプト生成チェック

### ファイル作成

- [ ] スクリプトファイルを作成
  - [ ] 正しい命名規則（`t2i-`, `i2i-`, `i2v-`プレフィックス）
  - [ ] 正しい拡張子（`.ts`）
  - [ ] 正しい場所（`.claude/skills/fal-ai/scripts/`）

### スクリプト内容

- [ ] ヘッダーコメントが正しい
  - [ ] モデルID
  - [ ] モデルタイプ
  - [ ] 説明
  - [ ] 使用方法
- [ ] インポート文が正しい
- [ ] 型定義が正しい
- [ ] コマンドライン引数解析が実装されている
- [ ] エラーハンドリングが実装されている
- [ ] 出力ディレクトリ作成処理がある
- [ ] 結果のダウンロード処理がある

### 既存パターンとの整合性

- [ ] 既存スクリプトと同じ構造
- [ ] 既存スクリプトと同じエラーハンドリングパターン
- [ ] 既存スクリプトと同じログ出力形式

---

## ドキュメント更新チェック

### MODELS.md

- [ ] 新しいモデルセクションを追加
- [ ] モデルIDが正しい
- [ ] 機能説明が正しい
- [ ] 入力パラメータ表が正しい
  - [ ] すべての必須パラメータが含まれている
  - [ ] すべてのオプションパラメータが含まれている
  - [ ] 型情報が正しい
  - [ ] デフォルト値が正しい
- [ ] パラメータの値の説明が含まれている（列挙型の場合）
- [ ] プロンプトの例が含まれている
- [ ] 使用例が含まれている

### SKILL.md（必要な場合）

- [ ] 新しい機能を機能セクションに追加
- [ ] 使用方法を追加
- [ ] トリガーワードを追加（必要な場合）

---

## テストチェック

### 基本テスト

- [ ] ヘルプメッセージが表示される
  ```bash
  node .claude/skills/fal-ai/scripts/{new-script}.ts
  ```
- [ ] TypeScriptコンパイルエラーがない
  ```bash
  cd .claude/skills/fal-ai/scripts
  npx tsc --noEmit
  ```

### 動作テスト（APIキーがある場合）

- [ ] 実際にモデルを実行できる
- [ ] 出力ファイルが正しい場所に保存される
- [ ] エラーメッセージが適切に表示される

---

## 整合性チェック

### プロジェクト全体

- [ ] 既存のスキルが正常に動作することを確認
- [ ] 新しいスクリプトがfal-aiスキルから認識されることを確認
- [ ] ドキュメントの整合性が取れていることを確認

### Gitチェック

- [ ] 追加されたファイルを確認
- [ ] 変更されたファイルを確認
- [ ] 不必要なファイルが追加されていないことを確認

---

## 完了前の最終確認

- [ ] すべてのチェック項目が完了している
- [ ] ユーザーに追加内容を確認してもらう
- [ ] 必要に応じてコミットメッセージを準備

---

## よくある問題

### スクリプトが実行できない

- [ ] `#!/usr/bin/env tsx` シバンがあるか
- [ ] 実行権限があるか
- [ ] tsxがインストールされているか

### 型エラー

- [ ] `@types/node` がインストールされているか
- [ ] TypeScript設定が正しいか

### ドキュメントのフォーマット

- [ ] Markdownテーブルのフォーマットが正しいか
- [ ] コードブロックが正しく閉じているか

---

## 緊急時のロールバック

追加したモデルに問題がある場合：

```bash
# スクリプト削除
rm .claude/skills/fal-ai/scripts/{new-script}.ts

# ドキュメント復元
git checkout .claude/skills/fal-ai/references/MODELS.md
git checkout .claude/skills/fal-ai/SKILL.md
```
